### 微信授权流程

#### 授权分为静默授权和非静默授权两种

- 静默授权就是无需用户操作，用户只会看到界面跳转回调页，是以`snsapi_base`为`scope`发起的网页授权，获取用于的`openid`
- 非静默授权是需要获取用户基本信息，是以`snsapi_userinfo`为`scope`发起的网页授权，需要用户手动同意

整个授权的流程是基于`OAuth2.0`协议的，大概流程如下： 👇

- 1、第三方应用重定向到授权页面，用户点击同意就会获取到授权码`code`

- 2、重定向回应用界面并在`url`里带上`code`

- 3、后端拿着这个`code`去向微信服务器获取`access_token`，`openid`即可完成授权(静默授权到这里就结束了)

- 4、如果是以`snsapi_userinfo`为`scope`发起的网页授权，即可继续拿着`access_token`，`openid`去获取微信用户信息

:::tip
之所以要在中间加上一个`code`的过渡流程，是因为重定向的时候会把`code`拼在`URL`后面进行重定向，如果是直接获取`access_token`则会把这个关键信息在前端暴露，非常不安全
:::